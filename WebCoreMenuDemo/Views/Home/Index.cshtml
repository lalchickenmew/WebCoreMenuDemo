@{
    ViewData["Title"] = "Home Page";
}

<div class="mt-4 p-5 text-white rounded shadow" style="background-color:#d8ebf9 ; height: 30rem">
    <div class="row">
        <div class=" container d-flex justify-content-center mt-2 mb-2">
            <h1 style="color:black">ISEE CORE MENU</h1>
        </div>

    </div>
    <div class="row ">

        @if (ViewBag.menus != null && ViewBag.token != null)
        {
            @foreach (var item in ViewBag.menus)
            {
                <div class="col-xl-3 col-sm-3" style="color:black">

                    <div class="row mb-2" onclick="sendparam('@item.application_link' , '@item.application_method' , '@ViewBag.token')">
                        <div class="col-xl-2 col-sm-4 bg-image hover-zoom">
                            <img class="rounded-circle" style="width:50px; height:50px; cursor:pointer;" src="@item.application_image">
                        </div>
                        <div class="col-10 d-flex align-items-center"><label class="focusline" style="cursor:pointer;">@item.application_description</label> </div>

                    </div>
                </div>
            }
        }

        <form id="sendparam" hidden>
            @*  <input id="token" type="text" name="token"/> *@
        </form>

    </div>
</div>
<script>
    function sendparam(_link, _application_method, _token) {
        if (_application_method == "GET") {
            console.log("in GET");
            window.open(_link, "_blank");
        } else {
            var form = document.getElementById("sendparam");
            //document.getElementById("token").value = _token;
            // Check if the form element exists

            if (form) {
                // Add the target attribute with the value "_blank"
                form.target = "_blank";
                form.method = _application_method;
                form.action = _link;
                form.submit();
            }
        }


    }


</script>
<style>
    .showing:hover {
        background-color: red;
    }

    .focusline:hover {
        text-decoration: underline !important;
        transform: scale(1);
    }

</style>
